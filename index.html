<title>Many Secret Doors</title>
<link rel="stylesheet" type="text/css" href="styles.css">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0" />
<link rel="apple-touch-icon-precomposed" href="icon.jpg" />




<!-- pages -->

<div class="page" id="welcome_page">
	<header>
		<h1 class="expando">Many Secret Doors</h1>
	</header>
	<div class="panel" id="login">
		<button>Create a profile by linking facebook</button> in order to join rooms or make new rooms.
	</div>
	<div class="info panel">
		<b>Many Secret Doors</b> is a place to make secret rooms.
      When you make a room, you get to decide what people have to do to enter it.
		Perhaps they have to visit a particular spot, or listen to some audio,
      or answer a question correctly.

		<p>By linking rooms together, you can design scavenger hunts,
      playlists, secret clubs, or any kind of place-based experience.</p>
	</div>
	<div class="panel">
		<button class="simple_button" id="go_nearby">Show nearby rooms</button>
	</div>
</div>

<div class="page" id="rooms">
	<header>
		<button class="simple_button" id="rooms_back">Back</button>
		<h1 class="expando simple_label" id="rooms_title">Many Secret Doors</h1>
		<button class="simple_button room_create"><big>+</big></button>
	</header>

	<div class="info panel simple_hidable" id="backlink_header">
		Add a message that points to another room or to a new room you create.
		By linking room to room, you can make scavenger hunts, tours, or mixtapes.
	</div>

	<div class="info panel simple_hidable" id="non_backlink_header">
		Choose a room near you, or create your own and invite friends.
	</div>

	<div class="simple_tabs" id="room_index_type">
		<b data-set="text:name"></b>
	</div>

	<div class="white panel centered fbobjlist expando" id="rooms_list">
		<div class="room_card">
			<div class="room_tile">
				<i data-set="text:distance_and_direction"></i>
				<span data-set="text:indicator"></span>
				<b data-set="text:guardedtitle"></b>
			</div>
			<div class="members_text" data-set="text:members_text"></div>
		</div>
	</div>
	<div class="panel">
		<button class="simple_button room_create">Create a new room</button>
	</div>
</div>

<div class="page" id="linkable_rooms">
	<button class="simple_button" id="linked_room_create">Create</button>
	<div class="fbobjlist" id="linkable_rooms_list">
		<li> <b data-set="text:start_loc"></b> / <b data-set="text:song_title"></b> </li>
	</div>
</div>



<!-- room related -->


<div class="page" id="choose_song">
	<header>
		<h1>Choose a song</h1>
		<button class="simple_button" id="go_room_settings">Done</button>
	</header>
	<div class="panel">
		<form> <input type="search" id="search_input" class="simple_input" placeholder="search for a song" /> </form>
		<ul id="search_results" class="simple_list">
			<li data-set="text:title"></li>
		</ul>
	</div>
	<div class="panel">
		<h3>Or choose a genre</h3>
		<ul id="genres" class="simple_list">
			<li data-set="text:name"></li>
		</ul>
	</div>
</div>




<div class="page" id="room_backlinks">
	<header>
		<button id="go_backlinks_room" class="header_back_button simple_button">Back</button>
	</header>
	<div class="info panel">
		Rooms that link to this room
	</div>
	<div class="white panel centered fbobjlist" id="backlinks">
		<div class="room_card">
			<div class="room_tile">
				<i data-set="text:distance_and_direction"></i>
				<span data-set="text:indicator"></span>
				<b data-set="text:title"></b>
			</div>
			<div class="members_text" data-set="text:members_text"></div>
		</div>
	</div>
</div>



<div class="page" id="show_room">
	<header>
		<button id="go_rooms" class="header_back_button simple_button"><big>&larr;</big></button>
		<h1 class="simple_button edit_settings">
			<span id="room_title" class="simple_label"></span>
			<small id="room_member_names" class="simple_label"></small>
		</h1>
		<button class="simple_button edit_settings">
			<span id="room_lock_icon" class="simple_label"></span>
			<span id="room_requires" class="simple_label"></span>
		</button>
	</header>
	<div class="player row panel simple_hidable">
		<button class="simple_button" id="room_rewind"><img src='/img/rew.png'></button>
		<div id="room_song_title" class="simple_label expando"></div>
		<button class="simple_button expando" id="room_play">
			<img id="room_play_indicator" src='/img/play.png'>
		</button>
	</div>
	<div id="room_scrolly_section" class="expando">
		<div id="room_backlinks_div" class="simple_button">
			<b id="room_backlinks_count" class="simple_label"></b> rooms link to here &raquo;
		</div>

		<div id="room_author_note" class="simple_button message">
			This is your room.  Access <span class="simple_label" id="room_text_reqs"></span>.
			<button>You can <span class="simple_label" id="room_author_also_note"></span> &raquo;</button>
		</div>

		<div id="room_messages" class="expando fbobjlist">
			<div class="message">
				<b data-set="text:author_name"></b>
				<i data-set="text:text"></i>
				<span class="action" data-set="text:action"></span>
			</div>
		</div>
	</div>
	<form class="panel row">
		<button type='button' class="simple_button toggle_room_add_options">&uarr;</button>
		<input class="simple_input expando" id="message_add">
	</form>
	<div id="room_add_options" class="simple_hidable panel row">
		<button id="room_link" class="simple_button">Make a link to another room</button>
		<button id="add_choreo" class="simple_button">Add some choreography</button>
		<a href="#" class="closex simple_button toggle_room_add_options">x</a>
	</div>
</div>


<div class="page" id="new_room">
	<header>
		<button class="header_back_button simple_button" id="new_room_go_rooms">back</button>
		<h1> New Room </h1>
	</header>
	<div class="panel">
		<h3>Who should be able to access your new room?</h3>
		<button class="simple_button" id="new_room_location">People near where I am now</button>
		<button class="simple_button" id="new_room_song">People who listen to a song</button>
		<button class="simple_button" id="new_room_riddle">People who answer a riddle</button>
	</div>
</div>


<div class="page" id="room_settings">
	<header>
		<button id="commands" class="simple_button header_right_button"><img src="/img/settings.png" /></button>
		<h1>This Room</h1>
		<button class="header_back_button simple_button" id="go_room">Done</button>
	</header>

	<div class="player row panel simple_hidable">
		<button class="simple_button" id="room_settings_rewind"><img src='/img/rew.png'></button>
		<button class="simple_button expando" id="room_settings_play"><img src='/img/play.png'></button>
		<button class="simple_button" id="room_settings_next"><img src='/img/ff.png'></button>
	</div>

	<form class="panel row">
		<input id="room_title_edit" type="text" class="fbtextfield expando" placeholder="Add a title...">
	</form>
	<div class="panel white fbobj" id="room_attributes">
		<h3>To unlock, users must:</h3>
		<div id="set_location_here" class="simple_button togrow">
			<a href="#" data-set="class:location_toggle_class"></a>
			Go to a location
		</div>
		<li> Location: <b data-set="text:location"></b> </li>

		<div id="go_choose_song" class="simple_button  togrow">
			<a href="#" data-set="class:song_toggle_class"></a>
			Listen to a song
		</div>
		<li> Song: <b data-set="text:song_title"></b> </li>

		<div id="set_riddle" class="simple_button  togrow">
			<a href="#" data-set="class:riddle_toggle_class"></a>
			Answer a riddle
		</div>
		<li> Riddle: <b data-set="text:riddle_q"></b> => <b data-set="text:riddle_a"></b> </li>

		<h3 style="margin-top:30px">Visible from links, or</h3>
		<div id="toggle_visibility" class="simple_button togrow">
			<a href="#" data-set="class:visible_toggle_class"></a>
			to users nearby
		</div>

	</div>
</div>



<div class="page" id="unlock_page">
	<header>
		<button id="go_other_rooms" class="simple_button">Back</button>
	</header>
	<div class="panel">
		<h2 id="unlock_room_title" class="simple_label"></h2>
		This is the door to a secret chatroom.  To unlock it and see the messages and who's inside, you're going to need to <span id="remaining_requirements" class="simple_label"></span>.
	</div>
	<div class="panel">
		<button id="next_step_button" class="simple_button"><span id="button_label" class="simple_label">Next step</span></button>
		<div id="unlock_status_div"></div>
		<div id="distance_div"></div>
	</div>
</div>



<!-- javascript -->

<script src='https://cdn.firebase.com/v0/firebase.js'></script>
<script src='https://cdn.firebase.com/js/simple-login/1.2.3/firebase-simple-login.js'></script>
<script src="https://connect.soundcloud.com/sdk.js"></script>
<script src="firewidget.js"></script>
<script src="fb.js"></script>
<script src="english.js"></script>
<script src="loc.js"></script>
<script src="sound.js"></script>
<!-- <script src="utils.js"></script> -->
<script src="pages.js"></script>
