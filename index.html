<title>Many Secret Doors</title>
<link rel="stylesheet" type="text/css" href="styles.css">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0,minimal-ui" />
<link rel="apple-touch-icon-precomposed" href="icon.jpg" />




<!-- pages -->

<div class="page" id="welcome_page">
	<header>
		<h1 class="expando">Many Secret Doors</h1>
	</header>
	<div class="info panel">
      <b>Welcome!</b>
		There are secret chatrooms hidden in locations around you. This site helps you find them and
      make your own.
      You can decide what's required for people to enter your room:
		it could be visiting a particular spot, listening to some audio,
      answering a question correctly, or any combination.

		<p>By linking rooms together, you can design scavenger hunts,
      playlists, secret clubs.. any kind of place-based experience.</p>
	</div>
	<div class="panel">
		<button class="simple_button" id="go_nearby">Show nearby rooms</button>
      <div id="loc_status"></div>
	</div>
</div>

<div class="page" id="rooms">
	<header>
		<button class="simple_button" id="rooms_back">Back</button>
		<h1 class="expando simple_label" id="rooms_title">Many Secret Doors</h1>
	</header>
  <div class="white panel expando">
    <div class="simple_hidable" id="backlink_header">
      Add a message that points to another room or a room you create.
      Link rooms together to create scavenger hunts, tours, or mixtapes.
    </div>

    <center class="simple_toggle" id="tabs_toggle">
      secret rooms
      <b class="simple_label" id="current_tab_name"></b>
      &#x25BE;
    </center>

    <div class="simple_hidable" id="tab_box">
      <div class="simple_tabs" id="room_index_type">
        <b data-set="text:name"></b>
      </div>
    </div>

    <div style="margin-top:15px; text-align:center">
      <div class="room_card simple_button room_create">
        <div class="room_tile create_room"> <b><big>+</big>Create a new room</b> </div>
      </div><span class="fbobjlist" id="rooms_list">
        <div class="room_card">
          <div class="room_tile">
            <i data-set="text:distance_and_direction"></i>
            <span data-set="text:indicator"></span>
            <b data-set="text:guardedtitle"></b>
          </div>
          <div class="members_text" data-set="text:members_text"></div>
        </div>
      </span>
    </div>
  </div>
</div>

<div class="page" id="linkable_rooms">
	<button class="simple_button" id="linked_room_create">Create</button>
	<div class="fbobjlist" id="linkable_rooms_list">
		<li> <b data-set="text:start_loc"></b> / <b data-set="text:song_title"></b> </li>
	</div>
</div>



<!-- room related -->


<div class="page" id="choose_song">
	<header>
		<h1>Choose a track</h1>
		<button class="simple_button" id="go_room_settings">Done</button>
	</header>
   <div class="panel simple_hidable" id="song_display">
      <div class="player row ">
         <button class="simple_button" id="room_settings_rewind"><img src='/img/rew.png'></button>
         <button class="simple_button expando" id="room_settings_play"><img src='/img/play.png'></button>
         <button class="simple_button" id="room_settings_next"><img src='/img/ff.png'></button>
      </div>
      <div class="tight panel row">
        <div id="player_title" class="expando">SONG TITLE </div>
        <button id="back_from_choose_song" class="simple_button"> Choose this </button>
      </div>
   </div>
	<div class="white panel expando">
      <form style="text-align:center;" >
         <input type="search" id="search_input" class="simple_input" placeholder="search soundcloud" /> 
      </form>
		<ul id="search_results" class="simple_list">
			<li data-set="text:title"></li>
		</ul>
    <h3>Choose a playlist</h3>
    <div id="playlists">
			<button class="simple_button" id="wesleyan_playlist">sounds by Wesleyan composers</button>
			<button class="simple_button" id="seamus_playlist">sounds by SEAMUS composers</button>
      <a target="_" href="https://soundcloud.com/groups/flashmob-radio-seamus-composers">Upload a sound</a>
    </div>
		<h3 style="margin-top:20px">Or choose a genre</h3>
		<div id="genres" class="simple_list">
			<button data-set="text:name"></button>
		</div>
	</div>
</div>




<div class="page" id="room_backlinks">
	<header>
		<button id="go_backlinks_room" class="header_back_button simple_button">Back</button>
	</header>
	<div class="info panel">
		Rooms that link to this room
	</div>
	<div class="white panel centered fbobjlist" id="backlinks">
		<div class="room_card">
			<div class="room_tile">
				<i data-set="text:distance_and_direction"></i>
				<span data-set="text:indicator"></span>
				<b data-set="text:title"></b>
			</div>
			<div class="members_text" data-set="text:members_text"></div>
		</div>
	</div>
</div>



<div class="page" id="show_room">
	<header>
		<button id="go_rooms" class="header_back_button simple_button"><big>&larr;</big></button>
		<h1 class="simple_button edit_settings">
			<span id="room_title" class="simple_label"></span>
			<small id="room_member_names" class="simple_label"></small>
		</h1>
		<button class="simple_button edit_settings">
			<span id="room_lock_icon" class="simple_label"></span>
			<span id="room_requires" class="simple_label"></span>
		</button>
	</header>
	<div id="song_player" class="player row simple_hidable">
		<button class="simple_button" id="room_rewind"><img src='/img/rew.png'></button>
		<div id="room_song_title" class="simple_label expando"></div>
		<button class="simple_button expando" id="room_play">
			<img id="room_play_indicator" src='/img/play.png'>
		</button>
	</div>
	<div id="room_scrolly_section" class="expando">
		<div id="room_backlinks_div" class="simple_button">
			<b id="room_backlinks_count" class="simple_label"></b> rooms link to here &raquo;
		</div>

		<div id="room_author_note" class="simple_button message">
			You made this room.  <span class="simple_label" id="room_text_reqs"></span>.
			<a href="#" class="simple_label" id="room_author_also_note"></a> &raquo;
		</div>

		<div id="room_messages" class="expando fbobjlist">
			<div class="message">
				<b data-set="text:author_name"></b>
				<i data-set="text:text"></i>
				<span class="action" data-set="text:action"></span>
			</div>
		</div>
	</div>
	<form class="row" id="chatbar">
		<button type='button' class="simple_button toggle_room_add_options">&#9650;</button>
		<input class="simple_input expando" id="message_add">
	</form>
	<div id="room_add_options" class="tight simple_hidable panel row">
		<button id="room_link" class="simple_button">Link to another room</button>
		<button id="email_invite" class="simple_button">Invite someone</button>
    <!--<button id="add_choreo" class="simple_button">Add choreography</button>-->
	</div>
</div>


<div class="page" id="new_room">
	<header>
		<button class="header_back_button simple_button" id="new_room_go_rooms">back</button>
		<h1> New Room </h1>
	</header>
	<div class="panel">
		<h3>Who should be able to access your new room?</h3>
		<button class="simple_button" id="new_room_location">People at this location</button>
		<button class="simple_button" id="new_room_song">People who listen to a sound</button>
		<button class="simple_button" id="new_room_riddle">People who answer a riddle</button>
	</div>
</div>


<div class="page" id="room_settings">
	<header>
		<h1>Room setup</h1>
		<button class="header_back_button simple_button" id="go_room">Done</button>
	</header>


	<form class="panel row">
		<input id="room_title_edit" type="text" class="fbtextfield expando" placeholder="Add a title...">
	</form>
	<div class="panel white fbobj" id="room_attributes">
		<h3>To unlock, users must:</h3>
		<div id="set_location_here" class="simple_button togrow">
			<a href="#" data-set="class:location_toggle_class"></a>
			Go to a location
		</div>
		<li> Location: <b data-set="text:location"></b> </li>

		<div id="go_choose_song" class="simple_button  togrow">
			<a href="#" data-set="class:song_toggle_class"></a>
			Listen to audio
		</div>
		<li data-set="text:track"> Track: <b data-set="text:song_title"></b> </li>

		<div id="set_riddle" class="simple_button  togrow">
			<a href="#" data-set="class:riddle_toggle_class"></a>
			Answer a riddle
		</div>
    <li data-set="text:riddle"> Riddle: <b data-set="text:riddle_q"></b> => <b data-set="text:riddle_a"></b> </li>

		<h3 style="margin-top:30px">Visible from links, or</h3>
		<div id="toggle_visibility" class="simple_button togrow">
			<a href="#" data-set="class:visible_toggle_class"></a>
			to users nearby
		</div>

	</div>
</div>



<div class="page" id="unlock_page">
	<header>
		<button id="go_other_rooms" class="simple_button">Back</button>
	</header>
	<div class="panel">
		<h2 id="unlock_room_title" class="simple_label"></h2>
		This is the door to a secret chatroom.  To unlock it and see the messages and who's inside, you're going to need to <span id="remaining_requirements" class="simple_label"></span>.
	</div>
	<div class="panel">
		<button id="next_step_button" class="simple_button"><span id="button_label" class="simple_label">Next step</span></button>
		<div id="unlock_status_div"></div>
		<div id="distance_div"></div>
	</div>
</div>



<!-- javascript -->

<script src='https://cdn.firebase.com/v0/firebase.js'></script>
<script src='https://cdn.firebase.com/js/simple-login/1.2.3/firebase-simple-login.js'></script>
<script src="https://connect.soundcloud.com/sdk.js"></script>
<script src="hammer.min.js"></script>
<script src="firewidget.js"></script>
<script src="fb.js"></script>
<script src="english.js"></script>
<script src="loc.js"></script>
<script src="sound.js"></script>
<!-- <script src="utils.js"></script> -->
<script src="pages.js"></script>
